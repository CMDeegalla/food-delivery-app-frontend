<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FoodGo – Product (Modern UI)</title>

  <!-- Tailwind + Material Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    .iphone {
      width: 390px;
      height: 844px;
      border-radius: 40px;
      overflow: hidden;
      border: 2px solid #000;
      background: #fafafa;
      margin: auto;
      margin-top: 20px;
      position: relative;
    }

    /* Screen Reader Only */
    .sr-only {
      position: absolute !important;
      width: 1px; height: 1px;
      padding: 0; margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border: 0;
    }

    /* Accessibility Modes */
    .iphone.high-contrast { background: #000 !important; color: #fff !important; }
    .iphone.high-contrast * { color: #fff !important; background-color: transparent !important; }

    .iphone.large-text { font-size: 1.1rem; }
    .iphone.large-text * { font-size: inherit; }

    .iphone.dyslexia-mode {
      font-family: system-ui, sans-serif;
      letter-spacing: 0.03em;
      line-height: 1.4;
    }

    /* Modern hover */
    .qty-btn { transition: transform .2s; }
    .qty-btn:active { transform: scale(.9); }

  </style>
</head>

<body class="bg-gray-900 flex justify-center items-center h-screen">

<div class="iphone" role="application" aria-label="FoodGo product screen">

  <!-- Screen reader announcements -->
  <div id="statusRegion" class="sr-only" aria-live="polite"></div>

  <!-- Header -->
  <header class="absolute top-0 left-0 w-full z-20 p-5 flex justify-between items-center bg-white/40 backdrop-blur-xl">
    <button onclick="history.back()"
      class="w-10 h-10 bg-white rounded-full shadow flex items-center justify-center focus-visible:ring-2 ring-orange-500"
      aria-label="Go back to previous page">
      <span class="material-icons">arrow_back</span>
    </button>

    <!-- Accessibility toggle -->
    <button id="accToggle"
      class="w-10 h-10 bg-white rounded-full shadow flex items-center justify-center focus-visible:ring-2 ring-orange-500"
      aria-expanded="false" aria-controls="accPanel" aria-label="Accessibility options">
      <span class="material-icons text-gray-700">accessibility_new</span>
    </button>
  </header>

  <!-- Accessibility Panel -->
  <section id="accPanel"
    class="absolute top-20 right-5 bg-white shadow-xl rounded-xl p-3 text-xs w-44 hidden z-30">
    <p class="font-semibold text-gray-700 mb-1">Accessibility</p>

    <label class="flex items-center gap-2 mb-1 cursor-pointer">
      <input type="checkbox" id="toggleHC"> High contrast
    </label>

    <label class="flex items-center gap-2 mb-1 cursor-pointer">
      <input type="checkbox" id="toggleLT"> Larger text
    </label>

    <label class="flex items-center gap-2 cursor-pointer">
      <input type="checkbox" id="toggleDX"> Dyslexia-friendly
    </label>
  </section>

  <!-- Favorite -->
  <button id="favBtn"
    class="absolute top-5 right-16 bg-white w-10 h-10 rounded-full shadow flex items-center justify-center focus-visible:ring-2 ring-orange-500"
    aria-label="Add to favourites">
    <span id="favIcon" class="material-icons text-gray-700">favorite_border</span>
  </button>

  <!-- Product Image -->
  <div class="w-full h-72 mt-14 bg-white flex items-center justify-center shadow-inner">
    <img id="prodImg" src="" alt="Product image" class="w-60 h-60 object-contain">
  </div>

  <!-- Product Content -->
  <main class="px-6 pt-6 pb-32" aria-label="Product details section">
  
    <h1 id="prodName" class="text-2xl font-extrabold tracking-tight"></h1>

    <div class="flex items-center gap-1 mt-1">
      <span class="material-icons text-yellow-500 text-lg">star</span>
      <span id="prodRating" class="text-sm"></span>
    </div>

    <p id="prodSubtitle" class="text-gray-500 text-xs mt-1"></p>

    <p id="prodDesc" class="text-gray-600 text-sm mt-3 leading-relaxed"></p>

    <!-- Quantity -->
    <div class="mt-6 flex justify-between items-center">
      <span class="font-semibold text-gray-700">Quantity</span>

      <div class="flex items-center gap-4">
        <button id="qtyMinus"
          class="qty-btn bg-orange-500 text-white w-9 h-9 rounded-xl flex items-center justify-center text-lg focus-visible:ring-2 ring-orange-500">–</button>

        <span id="qtyVal" class="text-lg font-bold">1</span>

        <button id="qtyPlus"
          class="qty-btn bg-orange-500 text-white w-9 h-9 rounded-xl flex items-center justify-center text-lg focus-visible:ring-2 ring-orange-500">+</button>
      </div>
    </div>

    <!-- Add to cart small -->
    <div class="mt-4 flex justify-end">
      <button id="smallAddCartBtn"
        class="px-5 py-2 bg-gray-900 text-white text-xs font-semibold rounded-xl shadow focus-visible:ring-2 ring-orange-500">
        Add to Cart
      </button>
    </div>
  </main>

  <!-- Bottom bar -->
  <footer class="absolute bottom-0 left-0 right-0 bg-white shadow-xl py-4 px-6 flex justify-between items-center rounded-b-[40px] backdrop-blur-xl">

    <button id="priceBtn"
      class="bg-orange-500 text-white font-bold px-8 py-3 rounded-xl shadow focus-visible:ring-2 ring-orange-500">
      $0.00
    </button>

    <button id="orderBtn"
      class="bg-gray-900 text-white font-bold px-10 py-3 rounded-xl shadow focus-visible:ring-2 ring-orange-500">
      ORDER
    </button>
  </footer>

</div>

<!--
      JAVASCRIPT
 -->
<script>
/* Product database (same as your original) */
const productData = {
  1:{ name:"Thundoori Pizza", price:8.24, img:"images/pizza1.png", rating:"4.9", subtitle:"Wendy’s Pizza",
      description:"A spicy tandoori-style pizza with herbs and mozzarella." },

  2:{ name:"Hamburger", price:4.99, img:"images/burger1.jpg", rating:"4.8", subtitle:"Veggie Burger",
      description:"A juicy grilled patty with cheese, lettuce, onion, and sauce." },

  3:{ name:"Cheese Pizza", price:6.29, img:"images/piza2.jpg", rating:"4.6", subtitle:"Chicken Cheese Pizza",
      description:"Loaded mozzarella + tender chicken on golden crust." },

  4:{ name:"Fried Chicken Burger", price:5.49, img:"images/burger2.jpg", rating:"4.5", subtitle:"Crispy Burger",
      description:"Crispy fried fillet with spicy mayo & lettuce." }
};

/* Load product */
const id = localStorage.getItem("selectedProduct") || 1;
const prod = productData[id];

document.getElementById("prodImg").src = prod.img;
document.getElementById("prodImg").alt = prod.name;
document.getElementById("prodName").textContent = prod.name;
document.getElementById("prodRating").textContent = `${prod.rating} • 26 mins`;
document.getElementById("prodSubtitle").textContent = prod.subtitle;
document.getElementById("prodDesc").textContent = prod.description;

/* Quantity & Price Logic */
let qty = 1;
function updatePrice(){
  document.getElementById("priceBtn").textContent = "$" + (prod.price * qty).toFixed(2);
}
updatePrice();

document.getElementById("qtyPlus").onclick = ()=>{
  qty++; document.getElementById("qtyVal").textContent = qty; updatePrice();
};
document.getElementById("qtyMinus").onclick = ()=>{
  if(qty>1){ qty--; document.getElementById("qtyVal").textContent = qty; updatePrice(); }
};

/* Favourite Toggle */
document.getElementById("favBtn").onclick = ()=>{
  const icon = document.getElementById("favIcon");
  const isFav = icon.textContent === "favorite";
  icon.textContent = isFav ? "favorite_border" : "favorite";
  announce(isFav ? "Removed from favourites" : "Added to favourites");
};

/* Add to Cart */
function addToCart(){
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  const existing = cart.find(x => x.id == id);

  if(existing){ existing.qty += qty; }
  else{
    cart.push({ id:id, name:prod.name, price:prod.price, qty:qty, img:prod.img });
  }

  localStorage.setItem("cart", JSON.stringify(cart));
  alert("Added to cart ✔");
}
document.getElementById("smallAddCartBtn").onclick = addToCart;

/* Order Button */
document.getElementById("orderBtn").onclick = ()=>{
  localStorage.setItem("currentOrder", JSON.stringify({
    id:id, name:prod.name, price:prod.price, qty:qty, img:prod.img
  }));
  alert("Navigating to checkout");
  window.location.href = "checkout.html";
};

/* Announcer */
function announce(msg){
  document.getElementById("statusRegion").textContent = msg;
}

/* Accessibility Panel */
const phone = document.querySelector(".iphone");
document.getElementById("accToggle").onclick = ()=>{
  const panel = document.getElementById("accPanel");
  const isOpen = panel.classList.contains("hidden");
  panel.classList.toggle("hidden", !isOpen);
};

document.getElementById("toggleHC").onchange = (e)=>{
  phone.classList.toggle("high-contrast", e.target.checked);
  announce("High contrast mode " + (e.target.checked?"enabled":"disabled"));
};
document.getElementById("toggleLT").onchange = (e)=>{
  phone.classList.toggle("large-text", e.target.checked);
  announce("Large text " + (e.target.checked?"enabled":"disabled"));
};
document.getElementById("toggleDX").onchange = (e)=>{
  phone.classList.toggle("dyslexia-mode", e.target.checked);
  announce("Dyslexia-friendly mode " + (e.target.checked?"enabled":"disabled"));
};

</script>

</body>
</html>
